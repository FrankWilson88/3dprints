# G-Code Cheat Sheet
*I can't stand The bitter denial Neglected consciousness Forgotten rights The book has been written You cant change the ending What is your confusion Know your own condition Lay down and think about how you've lived out Your wasted time here is over and gone They left us and we can start now our evolution Expired, Empty, Expired, Extinction The refugees have deserted the city No longer producing the age old concerns Of how we can conquer and watch them crumble It's far too late to question They knew this would happen the book has been written Set in stone now they've seen it now they know Is this a miracle or imagination your invention or destruction We are here alone At last we are finding answers Reveal the meaning of what we really are.*  
  - Behold, Born of Osiris

---

## Introduction

This is just a ChatGPT list I put together to reference. Make it easier to build the .gcode file, because like hell I'm gonna memorize all this stuff.

---

## 3D Printer G-code & M-code Cheat Sheet
*Target: Ender-3 / Marlin firmware*

---

### üìå File Structure & Order of Operations

A typical 3D print G-code file is structured in **five main sections**:

1. **Start G-code (Setup)**  
   - Purpose: Prepare the printer for the print.  
   - Tasks include: homing axes, setting units, priming the nozzle, heating bed/nozzle.  
   - Must be executed first to avoid collisions or failed prints.  

2. **Print G-code (Model Moves / Layers)**  
   - Purpose: Moves the nozzle to draw the object.  
   - Generated by slicer (e.g., Cura, PrusaSlicer).  
   - Uses G1 moves with X/Y/Z coordinates and extrusion (E).  
   - Includes layer changes and infill/wall patterns.  

3. **Layer Change / Mid-Print Commands (Optional)**  
   - Purpose: Insert layer markers, adjust fan speed, retraction, or other per-layer settings.  
   - Often auto-inserted by slicer.  

4. **End G-code (Teardown)**  
   - Purpose: Safely finish the print.  
   - Tasks include: turn off heaters, retract filament, park the nozzle, disable motors.  
   - Must be executed last to avoid leaving printer in unsafe state.  

5. **Comments / Metadata (Optional but Recommended)**  
   - Purpose: Document the print for reference or troubleshooting.  
   - Example: slicer version, filament used, print time, layer height.  

**‚úÖ Recommended Order in File:**
Start G-code ‚Üí Print G-code ‚Üí Layer Changes (if any) ‚Üí End G-code ‚Üí Comments/Metadata  


---

### G-Codes (Movement / Positioning)

| Code  | Description |
|-------|-------------|
| G0    | Rapid linear move (non-extruding) |
| G1    | Linear move (extruding or not) |
| G2    | Clockwise arc move |
| G3    | Counterclockwise arc move |
| G4    | Dwell / pause for a set time |
| G10   | Retract filament (firmware retract) |
| G11   | Recover filament after G10 |
| G20   | Set units to inches |
| G21   | Set units to millimeters |
| G28   | Home one or more axes |
| G29   | Auto bed leveling / mesh bed leveling |
| G90   | Absolute positioning |
| G91   | Relative positioning |
| G92   | Set current position (including extruder) |
| G94   | Feedrate per minute (CNC style) |
| G95   | Feedrate per revolution (CNC style) |
| ;     | Comment (ignored by printer) |

---

### M-Codes (Machine / Extruder / Misc)

#### Temperature Control
| Code  | Description |
|-------|-------------|
| M104  | Set hotend temperature (no wait) |
| M109  | Set hotend temperature and wait |
| M140  | Set bed temperature (no wait) |
| M190  | Set bed temperature and wait |
| M303  | PID autotune hotend |
| M301  | Set PID parameters |

#### Motion Control
| Code  | Description |
|-------|-------------|
| M17   | Enable motors |
| M18 / M84 | Disable motors / steppers |
| M92   | Set steps per mm (X/Y/Z/E) |
| M201  | Set max acceleration |
| M203  | Set max feedrate |
| M204  | Set acceleration |
| M205  | Advanced settings (jerk, acceleration) |
| M220  | Set speed factor override (%) |
| M221  | Set flow factor override (%) |
| M900  | Linear advance factor |

#### Filament / Extruder
| Code  | Description |
|-------|-------------|
| M82   | Extruder absolute mode |
| M83   | Extruder relative mode |
| M200  | Set filament diameter |
| M207  | Set firmware retraction parameters |
| M208  | Set firmware unretract parameters |
| M600  | Filament change (pause & replace) |
| G10   | Retract filament |
| G11   | Recover filament |

#### Endstops / Probes
| Code  | Description |
|-------|-------------|
| M119  | Endstop status report |
| M851  | Set Z-probe offset |

#### Settings / EEPROM
| Code  | Description |
|-------|-------------|
| M500  | Save settings to EEPROM |
| M501  | Load settings from EEPROM |
| M502  | Reset settings to firmware defaults |

#### Miscellaneous
| Code  | Description |
|-------|-------------|
| M107  | Turn off fan |
| M106  | Turn on fan (optionally set speed) |
| M115  | Get firmware version / capabilities |
| M907  | Set motor current override |
| M911  | Report power loss / recovery info |
| M0    | Stop / pause program |
| M1    | Optional stop / sleep |
| M218  | Set tool offsets (multi-extruder) |


#### 3D Printer G-code Flow Diagram
*Ender-3 / Marlin style*

```
+----------------------------+
|        Start G-code        |
|----------------------------|
| Purpose: Prepare printer   |
| Key Commands:              |
|  - G28 ‚Üí Home axes         |
|  - G21 ‚Üí Set units (mm)    |
|  - G90 ‚Üí Absolute pos       |
|  - M140/M190 ‚Üí Heat bed     |
|  - M104/M109 ‚Üí Heat nozzle  |
|  - G92 ‚Üí Reset extruder     |
|  - G1 E ‚Üí Prime filament    |
+----------------------------+
            |
            v
+----------------------------+
|       Print G-code         |
|----------------------------|
| Purpose: Draw object       |
| Generated by slicer        |
| Key Features:              |
|  - G1 X/Y/Z ‚Üí Move nozzle  |
|  - G1 E ‚Üí Extrude filament |
|  - Layer patterns: walls,  |
|    infill, support         |
+----------------------------+
            |
            v
+----------------------------+
| Layer Change / Mid-print   |
|        Commands            |
|----------------------------|
| Purpose: Adjust per-layer  |
| settings (optional)        |
| Examples:                  |
|  - M106/M107 ‚Üí Fan speed    |
|  - G10/G11 ‚Üí Retract/recover|
|  - ; Comments ‚Üí Layer info  |
+----------------------------+
            |
            v
+----------------------------+
|         End G-code         |
|----------------------------|
| Purpose: Safely finish     |
| Key Commands:              |
|  - G1 E ‚Üí Retract filament |
|  - G1 Z ‚Üí Lift nozzle      |
|  - G1 X/Y ‚Üí Move head away |
|  - M104 S0 ‚Üí Turn off hotend|
|  - M140 S0 ‚Üí Turn off bed  |
|  - M84 ‚Üí Disable motors    |
+----------------------------+
            |
            v
+----------------------------+
|  Comments / Metadata       |
|----------------------------|
| Purpose: Documentation      |
| Examples:                  |
|  - ; Slicer version         |
|  - ; Filament used          |
|  - ; Print time             |
+----------------------------+
```

#### üí° Notes:
- **Start G-code** must always run first to avoid collisions or failed prints.  
- **Print G-code** is usually generated by the slicer.  
- **Layer change commands** are optional but useful for cooling/fan control.  
- **End G-code** ensures the printer is left in a safe state.  
- **Comments/metadata** are optional but good for tracking prints.  

### Sample File:
```gcode
; ======== ENDER-3 SAMPLE G-CODE ========
; Description: Simple square test print (20x20mm)
; Author: ChatGPT (Generated)
; --------------------------------------

; --- Printer Setup ---
G21                 ; Use millimeters
G90                 ; Absolute positioning
M82                 ; Extruder absolute mode
M107                ; Fan off

; --- Heat up ---
M140 S60            ; Set bed temp to 60¬∞C
M104 S200           ; Set nozzle temp to 200¬∞C
M190 S60            ; Wait for bed temp
M109 S200           ; Wait for nozzle temp

; --- Home and Prep ---
G28                 ; Home all axes
G92 E0              ; Reset extruder position
G1 Z0.2 F1200       ; Move nozzle to layer height
G1 X10 Y10 F3000    ; Move to start corner
G1 E5 F200          ; Prime the nozzle

; --- Draw 20x20mm square ---
G1 X30 Y10 E10 F1500 ; Right edge
G1 X30 Y30 E15 F1500 ; Top edge
G1 X10 Y30 E20 F1500 ; Left edge
G1 X10 Y10 E25 F1500 ; Bottom edge (close square)

; --- Finish Up ---
G1 E23 F200          ; Retract filament slightly
G1 Z10 F1200         ; Lift nozzle
G1 X0 Y220 F3000     ; Move head to back for cooling
M104 S0              ; Turn off hotend
M140 S0              ; Turn off bed
M107                 ; Turn off fan
M84                  ; Disable steppers

; ======== END OF PRINT ========
```

---

# üß© The Meaning of ‚ÄúExtrusion Rate‚Äù

| Term                                 | Also called              | What it affects                                 |
| ------------------------------------ | ------------------------ | ----------------------------------------------- |
| **E-steps/mm**                       | Extruder steps per mm    | How much filament the motor *physically pushes* |
| **Flow rate / extrusion multiplier** | ‚ÄúFlow‚Äù in slicer, M221   | Software correction factor (%)                  |
| **Filament diameter compensation**   | From measurement or M200 | Changes volumetric flow math                    |

All three combine to control **how much plastic comes out** when you tell the printer to extrude a given length.

---

# ‚öôÔ∏è Step 1: Calibrate **E-steps/mm** (mechanical accuracy)

This ensures your printer pushes *exactly* 100 mm of filament when told to.

### üß∞ What you need:

* PLA loaded
* Bed/nozzle heated to printing temp (to reduce back pressure)
* Calipers or ruler

### üßæ Procedure:

1. **Mark the filament** 120 mm above the extruder entrance.
2. In your terminal (OctoPrint, Repetier, or printer LCD), reset the extruder position:

   ```
   G92 E0
   ```
3. Tell it to extrude 100 mm at a slow rate:

   ```
   G1 E100 F100
   ```
4. Measure how much filament actually moved:

   * If only 95 mm fed, you‚Äôre under-extruding.
   * If 105 mm fed, you‚Äôre over-extruding.
5. Find your current E-steps:

   ```
   M503
   ```

   Look for a line like `M92 X80.00 Y80.00 Z400.00 E93.00`.
6. Calculate the new value:

   ```
   new_Esteps = old_Esteps * (commanded_length / actual_length)
   ```

   Example: `93 * (100 / 95) = 97.9`
7. Set and save:

   ```
   M92 E97.9
   M500
   ```

‚úÖ That locks in mechanical extrusion accuracy.

---

# üß© Step 2: Fine-tune **Flow Rate** in Slicer

Even with perfect E-steps, filament differences, melt pressure, and nozzle diameter change real flow.

### üßæ Quick method:

1. Slice a **single-wall cube** (0 % infill, 1 perimeter, 0.2 mm layer).
2. Print it and measure wall thickness with calipers.
3. Compare to your slicer‚Äôs expected line width (e.g., 0.4 mm).
4. Adjust the **Flow / Extrusion Multiplier**:

   * New flow = (desired thickness / measured thickness) √ó 100 %.
   * In Cura: *Material ‚Üí Flow %*.
   * In Marlin:

     ```
     M221 S<new flow percent>
     ```

     (e.g., `M221 S95` for 95 %)

Repeat until wall thickness matches the slicer‚Äôs target.

---

# üß© Step 3: Verify with Real Prints

* Print a **20 √ó 20 √ó 20 mm calibration cube**.
* Measure dimensions and top solid layers.
* Adjust flow ¬±1 % if tops look over- or under-filled.

---

# üßÆ Summary Table

| Calibration Type      | Command(s)          | Where Set     | Typical Value |
| --------------------- | ------------------- | ------------- | ------------- |
| **E-steps/mm**        | `M92 E###` + `M500` | Firmware      | 93 ‚Äì 100      |
| **Flow rate**         | `M221 S###`         | G-code/Slicer | 95 ‚Äì 105 %    |
| **Filament diameter** | `M200 D1.75`        | G-code        | 1.75 mm       |

---

# üß† Tips

* Re-check E-steps if you change extruder hardware (gears, direct drive).
* Use **slow extrusion speed (F100‚ÄìF200)** for calibration to avoid pressure lag.
* Keep filament at stable temperature/humidity; wet filament skews flow.
* Cura‚Äôs ‚ÄúFlow‚Äù and Marlin‚Äôs `M221` are additive ‚Äî don‚Äôt double-compensate.

```gcode
    ; ===============================
    ; Ender-3 Extruder Calibration Test
    ; Purpose: Check 100 mm extrusion for E-steps/mm
    ; Filament: PLA
    ; Nozzle: 200¬∞C, Bed: 60¬∞C
    ; ===============================

    ; --- Start G-code ---
    G21             ; Units in mm
    G90             ; Absolute positioning
    M82             ; Extruder absolute mode
    M107            ; Fan off
    M140 S60        ; Set bed temperature 60¬∞C
    M190 S60        ; Wait for bed temp
    M104 S200       ; Set nozzle temperature 200¬∞C
    M109 S200       ; Wait for nozzle temp
    G28             ; Home all axes
    G92 E0          ; Reset extruder position

    ; --- Move to safe position ---
    G1 X10 Y10 Z0.2 F3000 ; Move to front-left corner, first layer height

    ; --- Prime the nozzle ---
    G1 E5 F200          ; Extrude 5 mm filament slowly to prime
    G4 S2               ; Pause 2 seconds

    ; --- Extrusion test ---
    ; This command extrudes 100 mm at a slow speed
    ; Measure filament before and after to check accuracy
    G1 E100 F100        ; Extrude 100 mm filament slowly
    G4 S2               ; Pause 2 seconds

    ; --- Retract filament slightly ---
    G1 E95 F200         ; Retract 5 mm to prevent oozing

    ; --- End G-code ---
    G1 Z10 F1200        ; Lift nozzle
    G1 X0 Y220 F3000    ; Move head away
    M104 S0             ; Turn off nozzle
    M140 S0             ; Turn off bed
    M107                ; Turn off fan
    M84                 ; Disable motors

    ; ===============================
    ; End of Extruder Calibration Test
    ; ===============================
```

### **1Ô∏è‚É£ E is cumulative filament extrusion**

* After calibration, the printer knows **exactly how much filament corresponds to a given length of nozzle travel**.
* So when you write:

```gcode
G1 X100 Y100 E0 F3000
G1 X105 Y105 E1 F3000
```

It means:

1. Move the nozzle to `X100 Y100` ‚Äî don‚Äôt extrude anything yet (`E0`).
2. Move to `X105 Y105` while extruding **1 mm of filament**.

‚úÖ The printer will push exactly **1 mm of filament** over that diagonal distance.

---

### **2Ô∏è‚É£ How the slicer calculates E**

The slicer automatically calculates `E` using this formula:

$$
E = \frac{\text{Distance} \times \text{Layer Height} \times \text{Line Width}}{\text{Filament Cross-Sectional Area}}
$$


Where:

* **Distance** = nozzle movement in XY (or XYZ if diagonal)
* **Layer Height** = layer thickness (e.g., 0.2 mm)
* **Line Width** = extrusion width (e.g., 0.4 mm)
* **Filament Area** = œÄ √ó (diameter / 2)¬≤ (for 1.75 mm filament, area ‚âà 2.405 mm¬≤)

This converts **movement distance into filament length**.

---

### **3Ô∏è‚É£ Example Calculation**

* Move diagonally from `(100,100)` ‚Üí `(105,105)`
* Distance = ‚àö((105‚àí100)¬≤ + (105‚àí100)¬≤) = ‚àö(25+25) = ‚àö50 ‚âà 7.07 mm
* Layer height = 0.2 mm
* Line width = 0.4 mm
* Filament diameter = 1.75 mm ‚Üí Area ‚âà 2.405 mm¬≤

$$
E = \frac{7.07 \times 0.2 \times 0.4}{2.405} \approx 0.235 \text{ mm of filament}
$$

* So in reality, for a **small move like that**, your `E` would be **much smaller than 1 mm**, unless you‚Äôre exaggerating for example purposes.

---

### **4Ô∏è‚É£ Key Points**

1. **E only increases when you want extrusion** ‚Äî travel moves keep E constant.
2. **E value depends on nozzle width, layer height, and filament diameter** ‚Äî slicer calculates this for you.
3. If your printer is calibrated (correct E-steps and flow), you don‚Äôt need to guess E manually ‚Äî slicer handles it perfectly.

---

üí° **Tip for manual G-code:**

* For test prints or small shapes, you can calculate `E` using the formula above.
* For real objects, let the slicer generate precise E values ‚Äî it‚Äôs much easier.

## Takeaways

Share any lessons learned, thoughts to ponder, or calls to action.

---

> Template generated by ChatGPT  
> Documentation generated by [PADDOCS](https://padsrepo.github.io/pads/#paddocs)  
> Compendium section: 19-blog  
> Title: G-Code Cheat Sheet  
> Author: Joe Corso  
> Tags: ender-3, creality, 3d printer, gcode, mcode  
> Status: **Final**  
> Post ID: 01-gcode.md  
> Template: 00-blog.md
> License: "All Rights Reserved"  
> Schema: articles  
> Version: 1.0.0  
> Branding: Mindmap  
